[<< К содержанию](./readme.md)

## Настройка *.gitignore*

Если в вашем проекте есть файлы, которые вы не хотите добавлять в репозиторий GIT, вам поможет файл ***.gitignore***. Чаще всего это файлы конфигураций, файлы с паролями или системные файлы.

Для избежания попадания лишних файлов в репозиторий, нужно в своём проекте создать файл ***.gitignore*** и настроить его.

### Какие файлы нужно исключить?

1. Файлы редакторов **IDE**
2. Выполняемые файлы 
    * **log**
    * **lock**
    * **chache**
3. Временные файлы **tmp**
4. Системные файлы
    * **.DS_Store** - для Mac
    * **Thumbs.db** - для Windows
5. Директории зависимостей **vendor / node_modules**
6. Build директории **public / dist**
7. Файлы, содержащие пароли, ключи API и прочую секретную информацию.

### Правила синтаксиса файла *.gitignore*

* 1 строка - один принцип.
* Пустые строки пропускаются.
* `#` означает комментарий
* `/` в начале строки означает, что принцип применяется только в файлах и папках, которые находятся в  том же каталоге, где и файл ***.gitignore***.
* `*` заменяет любое количество символов (0 и больше).
* `?` заменяет от нуля до одного символа, можно указывать в любом месте.
* `**` используются для указания любого количества поддиректорий.
* `!` в начале строки означает инвертирование правила, необходим для указания исключений из правил игнорирования.
* `\` используется для экранирования спецсиволов.
* Для игнорирования всей директории правило должно заканчиваться на `/`
* `[...]` подходит каждому знаку, находящемуся внутри квадратных скобок. Если два символа разделены дефисом, то указан диапазон заменяемых символов. Если первый знак в скобках `!` то правило подходит для любого из знаков, кроме тех, что указаны в спобках:
    * `*.[ea]` = **filename.e**, **filename.a**
    * `*.[!ea]` = **filename.x**, **filename.1**, **filename.y**...

### Пример файла .gitignore

```bash hljs=
# Игнорировать ВСЕ файлы и директории, включая поддиректории и файлы в них
*
# Игнорирование по типу файла, будут игнорироваться в АБСОЛЮТНО всех директориях
# Например /dir/data.zip, /server.log, /uploads/dir/data/info.xls
*.zip
*.log
*.pdf
*.xls

# Игнорирование файла во ВСЕХ директориях
# Например /dir/params/config.php, /config.php
config.php

# Игнорирование конкретного файла ТОЛЬКО в корне проекта
# корнём считается расположение файла .gitignore
# Например НЕ БУДЕТ проигнорирован файл /dir/config.php
/config.php

# Игнорирование конкретного файла ТОЛЬКО в указанной директории
# Например НЕ БУДЕТ проигнорирован файл /dir/params/config.php
/params/config.php

# Игнорирование всех файлов и папок ТОЛЬКО в конкретной директории, включая поддиректории и файлы в них.
# Например /images/img.jpg, /images/dir/logo.png
# НЕ БУДУТ проигнорированы файлы и папки /dir/images/img.jpg
/images/*

# Игнорирование всех файлов и папок в ЛЮБЫХ директориях с указанным именем
# Например /images/img.jpg, /dir/images/img.jpg
images/*

# Игнорирование ВСЕХ html-файлов в ОДНОЙ КОНКРЕТНОЙ директории, НЕ ВКЛЮЧАЯ поддиректории
# Например /private/index.html
# НЕ БУДУТ проигнорированы файлы в /private/dir/index.html
/private/*.html

# Игнорирование ВСЕХ html-файлов в КОНКРЕТНОЙ директории, ВКЛЮЧАЯ поддиректории
# Например /private/info.html, /private/dir/dir2/info.html
/private/**/*.html

# Исключение из игнорирования
# Игнорирование ВСЕХ файлов и папок внутри директории /dir,
# за исключением файла /dir/free.txt, он не будет проигнорирован
/secret/*
!/secret/free.txt

# Игнорирование файла с именем, содержащим спецсимволы
# Например !readme!.txt
\!readme!.txt

# Игнорирование всех JPG и JPEG файлов внутри директорий,
# которые начинаются на "h" и МОГУТ содержать ещё один символ после
# Например /images/h4/user.jpg, /images/h/company.jpeg
/images/h?/*.jp?g
```

### Как исключить файлы, которые уже отслеживаются?

Бывает так, что файл по ошибки попадает в отслеживаемые и необходимо прекратить его отслеживаение.

**Сначала нужно выполнить всевозможные неполные изменения кода**, а уже потом использовать команду (команда для всех файлов).

Чтобы отменить отслеживание одного файла, нужно использовать команду:

```bash hljs=
git rm -r --cached <filename>
```
Таким образом файл удалится из индекса, но не удалится из рабочей ветки.

Эта команда убирает все модифицированные файлы из индекса. Затем необходима новая инициализацию файлов 

```bash hljs=
git add .
```

Осталось добавить коммит 

```bash hljs=
git commit -m "gitignore is working"
```

### Просмотр всех игнорируемых файлов

Чтобы быстро посмотреть все игнорируемые файлы, нужно использовать команду:

```bash hljs=
git status --ignored
```